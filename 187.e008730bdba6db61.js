"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[187],{4187:(X,p,c)=>{c.r(p),c.d(p,{ItemPage:()=>F});var r=c(177),m=c(4341),s=c(5781),t=c(3953);let _=(()=>{var e;class o{get chordName(){return this.chord.replace(/[{}]/g,"")}}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-chord"]],inputs:{chord:"chord"},standalone:!0,features:[t.aNF],decls:2,vars:1,template:function(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n&&(t.R7$(),t.JRh(a.chordName))},styles:["[_nghost-%COMP%]{position:absolute;transform:translateY(-50%)}span[_ngcontent-%COMP%]{color:#cf404b}"]}),o})();var g=c(70),u=c(5780);const l=(e,o)=>({lines:e,type:o});function f(e,o){if(1&e&&t.eu8(0,3),2&e){const i=t.XpG().$implicit;t.XpG(2);const n=t.sdS(2);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.l_i(2,l,i.text,i.type))}}function d(e,o){if(1&e&&t.eu8(0,3),2&e){const i=t.XpG().$implicit;t.XpG(2);const n=t.sdS(2);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.l_i(2,l,i.text,i.type))}}function h(e,o){if(1&e&&t.eu8(0,3),2&e){const i=t.XpG().$implicit;t.XpG(2);const n=t.sdS(2);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.l_i(2,l,i.text,i.type))}}function C(e,o){if(1&e&&t.DNE(0,f,1,5,"ng-container",3)(1,d,1,5,"ng-container",3)(2,h,1,5,"ng-container",3),2&e){let i;t.vxM("chorus"===(i=o.$implicit.type)?0:"verse"===i?1:"subverse"===i?2:-1)}}function T(e,o){if(1&e&&(t.qex(0),t.j41(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),t.EFF(4),t.k0s()()(),t.j41(5,"ion-content",2),t.Z7z(6,C,3,1,null,null,t.fX1),t.k0s(),t.bVm()),2&e){const i=t.XpG();t.R7$(4),t.Lme("",i.track.artist," - ",i.track.title,""),t.R7$(2),t.Dyx(i.track.listMusic)}}function P(e,o){if(1&e&&(t.qex(0),t.nrm(1,"span",6),t.bVm()),2&e){const i=t.XpG().$implicit;t.R7$(),t.Y8G("innerHTML",i,t.npT)}}function x(e,o){if(1&e&&t.nrm(0,"app-chord",7),2&e){const i=t.XpG().$implicit;t.Y8G("chord",i)}}function I(e,o){if(1&e&&t.DNE(0,P,2,1,"ng-container",1)(1,x,1,1,"app-chord",5),2&e){const i=o.$implicit,n=t.XpG(3);t.Y8G("ngIf",!n.isChord(i)),t.R7$(),t.Y8G("ngIf",n.isChord(i))}}function v(e,o){if(1&e&&(t.j41(0,"p"),t.Z7z(1,I,2,2,null,null,t.fX1),t.k0s()),2&e){const i=o.$implicit,n=t.XpG().type;t.HbH(n),t.R7$(),t.Dyx(i)}}function G(e,o){if(1&e&&t.Z7z(0,v,3,2,"p",4,t.fX1),2&e){const i=o.lines,n=t.XpG();t.Dyx(n.chordsParser(i))}}let F=(()=>{var e;class o{constructor(n,a,M){this.activatedRoute=n,this.listMusicService=a,this.cdr=M}ionViewWillEnter(){this.takeTrack(),this.cdr.detectChanges()}chordsParser(n){return n.map(a=>a.split(/(\{\{.*?\}\})/))}isChord(n){return console.log(n),n.includes("{{")&&n.includes("}}")}takeTrack(){const n=this.activatedRoute.snapshot.queryParamMap.get("artist"),a=this.activatedRoute.snapshot.queryParamMap.get("title");n&&a&&(this.track=this.listMusicService.getTrack(n,a))}}return(e=o).\u0275fac=function(n){return new(n||e)(t.rXU(g.nX),t.rXU(u.z),t.rXU(t.gRc))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-item"]],standalone:!0,features:[t.aNF],decls:3,vars:1,consts:[["lines",""],[4,"ngIf"],[1,"ion-padding","track-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class"],[3,"chord",4,"ngIf"],[3,"innerHTML"],[3,"chord"]],template:function(n,a){1&n&&t.DNE(0,T,8,2,"ng-container",1)(1,G,2,0,"ng-template",null,0,t.C5r),2&n&&t.Y8G("ngIf",a.track)},dependencies:[s.W9,s.eU,s.BC,s.ai,r.MD,r.bT,r.T3,m.YN,_],styles:[".track-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.2em 0;line-height:2}.subverse[_ngcontent-%COMP%]{color:#f8c2b2}.chorus[_ngcontent-%COMP%]{color:#f8e89f}"],changeDetection:0}),o})()}}]);